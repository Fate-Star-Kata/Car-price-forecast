<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»·æ ¼é¢„æµ‹ - äºŒæ‰‹è½¦ä»·æ ¼é¢„æµ‹ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <a href="index.html" class="logo">ğŸš— äºŒæ‰‹è½¦ä»·æ ¼é¢„æµ‹</a>
                <ul class="nav-menu">
                    <li><a href="index.html">é¦–é¡µ</a></li>
                    <li><a href="prediction.html" style="background-color: rgba(255,255,255,0.2);">ä»·æ ¼é¢„æµ‹</a></li>
                    <li><a href="trends.html">ä»·æ ¼è¶‹åŠ¿</a></li>
                    <li><a href="training.html">æ¨¡å‹è®­ç»ƒ</a></li>
                    <li><a href="community.html">ç¤¾åŒºäº¤æµ</a></li>
                    <li><a href="admin.html">ç®¡ç†åå°</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <main style="padding: 2rem 0; min-height: calc(100vh - 200px);">
        <div class="container">
            <h1 style="text-align: center; margin-bottom: 2rem; color: #333;">äºŒæ‰‹è½¦ä»·æ ¼é¢„æµ‹</h1>
            
            <div class="grid grid-2">
                <!-- è½¦è¾†ä¿¡æ¯è¾“å…¥è¡¨å• -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">è½¦è¾†ä¿¡æ¯</h2>
                        <p style="color: #666;">è¯·å¡«å†™è½¦è¾†è¯¦ç»†ä¿¡æ¯ä»¥è·å¾—å‡†ç¡®çš„ä»·æ ¼é¢„æµ‹</p>
                    </div>
                    
                    <form id="predictionForm">
                        <div class="form-group">
                            <label class="form-label">å“ç‰Œ</label>
                            <select class="form-control form-select" id="brand" required>
                                <option value="">è¯·é€‰æ‹©å“ç‰Œ</option>
                                <option value="toyota">ä¸°ç”°</option>
                                <option value="honda">æœ¬ç”°</option>
                                <option value="volkswagen">å¤§ä¼—</option>
                                <option value="bmw">å®é©¬</option>
                                <option value="mercedes">å¥”é©°</option>
                                <option value="audi">å¥¥è¿ª</option>
                                <option value="nissan">æ—¥äº§</option>
                                <option value="hyundai">ç°ä»£</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">è½¦å‹</label>
                            <select class="form-control form-select" id="model" required>
                                <option value="">è¯·å…ˆé€‰æ‹©å“ç‰Œ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å¹´ä»½</label>
                            <select class="form-control form-select" id="year" required>
                                <option value="">è¯·é€‰æ‹©å¹´ä»½</option>
                                <option value="2023">2023å¹´</option>
                                <option value="2022">2022å¹´</option>
                                <option value="2021">2021å¹´</option>
                                <option value="2020">2020å¹´</option>
                                <option value="2019">2019å¹´</option>
                                <option value="2018">2018å¹´</option>
                                <option value="2017">2017å¹´</option>
                                <option value="2016">2016å¹´</option>
                                <option value="2015">2015å¹´</option>
                                <option value="2014">2014å¹´</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">é‡Œç¨‹æ•° (ä¸‡å…¬é‡Œ)</label>
                            <input type="number" class="form-control" id="mileage" placeholder="è¯·è¾“å…¥é‡Œç¨‹æ•°" min="0" max="50" step="0.1" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">æ’é‡ (L)</label>
                            <select class="form-control form-select" id="displacement" required>
                                <option value="">è¯·é€‰æ‹©æ’é‡</option>
                                <option value="1.0">1.0L</option>
                                <option value="1.2">1.2L</option>
                                <option value="1.4">1.4L</option>
                                <option value="1.5">1.5L</option>
                                <option value="1.6">1.6L</option>
                                <option value="1.8">1.8L</option>
                                <option value="2.0">2.0L</option>
                                <option value="2.4">2.4L</option>
                                <option value="3.0">3.0L</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">å˜é€Ÿç®±ç±»å‹</label>
                            <select class="form-control form-select" id="transmission" required>
                                <option value="">è¯·é€‰æ‹©å˜é€Ÿç®±ç±»å‹</option>
                                <option value="manual">æ‰‹åŠ¨æŒ¡</option>
                                <option value="automatic">è‡ªåŠ¨æŒ¡</option>
                                <option value="cvt">CVTæ— çº§å˜é€Ÿ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">è½¦è¾†çŠ¶å†µ</label>
                            <select class="form-control form-select" id="condition" required>
                                <option value="">è¯·é€‰æ‹©è½¦è¾†çŠ¶å†µ</option>
                                <option value="excellent">æä½³</option>
                                <option value="good">è‰¯å¥½</option>
                                <option value="fair">ä¸€èˆ¬</option>
                                <option value="poor">è¾ƒå·®</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">æ‰€åœ¨åŸå¸‚</label>
                            <select class="form-control form-select" id="city" required>
                                <option value="">è¯·é€‰æ‹©åŸå¸‚</option>
                                <option value="beijing">åŒ—äº¬</option>
                                <option value="shanghai">ä¸Šæµ·</option>
                                <option value="guangzhou">å¹¿å·</option>
                                <option value="shenzhen">æ·±åœ³</option>
                                <option value="hangzhou">æ­å·</option>
                                <option value="nanjing">å—äº¬</option>
                                <option value="chengdu">æˆéƒ½</option>
                                <option value="wuhan">æ­¦æ±‰</option>
                            </select>
                        </div>
                    </form>
                </div>
                
                <!-- æ¨¡å‹é€‰æ‹©å’Œé¢„æµ‹ç»“æœ -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">é¢„æµ‹æ¨¡å‹é€‰æ‹©</h2>
                        <p style="color: #666;">é€‰æ‹©åˆé€‚çš„é¢„æµ‹æ¨¡å‹è·å¾—æœ€ä½³ç»“æœ</p>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">é¢„æµ‹æ¨¡å‹</label>
                        <select class="form-control form-select" id="model-select">
                            <option value="random-forest">éšæœºæ£®æ—æ¨¡å‹ (æ¨è)</option>
                            <option value="gradient-boost">æ¢¯åº¦æå‡æ¨¡å‹</option>
                            <option value="neural-network">ç¥ç»ç½‘ç»œæ¨¡å‹</option>
                            <option value="linear-regression">çº¿æ€§å›å½’æ¨¡å‹</option>
                        </select>
                    </div>
                    
                    <div style="margin: 2rem 0;">
                        <button type="button" class="btn btn-primary" id="predictBtn" style="width: 100%; font-size: 1.1rem; padding: 15px;">å¼€å§‹é¢„æµ‹</button>
                    </div>
                    
                    <!-- é¢„æµ‹ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
                    <div id="predictionResult" style="display: none;">
                        <div class="alert alert-success">
                            <h3 style="margin-bottom: 1rem;">é¢„æµ‹ç»“æœ</h3>
                            <div style="text-align: center; margin: 2rem 0;">
                                <div style="font-size: 3rem; font-weight: bold; color: #28a745;" id="predictedPrice">Â¥ 0</div>
                                <div style="color: #666; margin-top: 0.5rem;">é¢„æµ‹ä»·æ ¼</div>
                            </div>
                            
                            <div class="grid grid-2" style="margin-top: 2rem;">
                                <div style="text-align: center;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #667eea;" id="confidence">0%</div>
                                    <div style="color: #666;">ç½®ä¿¡åº¦</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #667eea;" id="priceRange">Â¥ 0 - Â¥ 0</div>
                                    <div style="color: #666;">ä»·æ ¼åŒºé—´</div>
                                </div>
                            </div>
                            
                            <div style="margin-top: 2rem;">
                                <h4>å½±å“å› ç´ åˆ†æ</h4>
                                <div id="factorAnalysis">
                                    <div style="margin: 1rem 0;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                            <span>è½¦é¾„å½±å“</span>
                                            <span>35%</span>
                                        </div>
                                        <div style="background-color: #f0f0f0; height: 8px; border-radius: 4px;">
                                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 100%; width: 35%; border-radius: 4px;"></div>
                                        </div>
                                    </div>
                                    <div style="margin: 1rem 0;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                            <span>é‡Œç¨‹æ•°å½±å“</span>
                                            <span>25%</span>
                                        </div>
                                        <div style="background-color: #f0f0f0; height: 8px; border-radius: 4px;">
                                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 100%; width: 25%; border-radius: 4px;"></div>
                                        </div>
                                    </div>
                                    <div style="margin: 1rem 0;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                            <span>å“ç‰Œå½±å“</span>
                                            <span>20%</span>
                                        </div>
                                        <div style="background-color: #f0f0f0; height: 8px; border-radius: 4px;">
                                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 100%; width: 20%; border-radius: 4px;"></div>
                                        </div>
                                    </div>
                                    <div style="margin: 1rem 0;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                            <span>å…¶ä»–å› ç´ </span>
                                            <span>20%</span>
                                        </div>
                                        <div style="background-color: #f0f0f0; height: 8px; border-radius: 4px;">
                                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 100%; width: 20%; border-radius: 4px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- åŠ è½½çŠ¶æ€ -->
                    <div id="loadingState" style="display: none; text-align: center; padding: 2rem;">
                        <div class="loading" style="margin: 0 auto 1rem;"></div>
                        <p>æ­£åœ¨åˆ†æè½¦è¾†ä¿¡æ¯ï¼Œè¯·ç¨å€™...</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // å“ç‰Œå’Œè½¦å‹çš„æ˜ å°„å…³ç³»
        const brandModels = {
            'toyota': ['å‡¯ç¾ç‘', 'å¡ç½—æ‹‰', 'æ±‰å…°è¾¾', 'æ™®æ‹‰å¤š', 'RAV4'],
            'honda': ['é›…é˜', 'æ€åŸŸ', 'CR-V', 'å¥¥å¾·èµ›', 'é£åº¦'],
            'volkswagen': ['å¸•è¨ç‰¹', 'è¿ˆè…¾', 'æœ—é€¸', 'é€”è§‚', 'é«˜å°”å¤«'],
            'bmw': ['3ç³»', '5ç³»', 'X3', 'X5', '1ç³»'],
            'mercedes': ['Cçº§', 'Eçº§', 'Sçº§', 'GLC', 'GLE'],
            'audi': ['A4L', 'A6L', 'Q5', 'Q7', 'A3'],
            'nissan': ['å¤©ç±', 'è½©é€¸', 'å¥‡éª', 'é€å®¢', 'é˜³å…‰'],
            'hyundai': ['ç´¢çº³å¡”', 'ä¼Šå…°ç‰¹', 'é€”èƒœ', 'èƒœè¾¾', 'ç‘çº³']
        };

        // å“ç‰Œé€‰æ‹©å˜åŒ–æ—¶æ›´æ–°è½¦å‹é€‰é¡¹
        document.getElementById('brand').addEventListener('change', function() {
            const brand = this.value;
            const modelSelect = document.getElementById('model');
            
            // æ¸…ç©ºè½¦å‹é€‰é¡¹
            modelSelect.innerHTML = '<option value="">è¯·é€‰æ‹©è½¦å‹</option>';
            
            if (brand && brandModels[brand]) {
                brandModels[brand].forEach(model => {
                    const option = document.createElement('option');
                    option.value = model;
                    option.textContent = model;
                    modelSelect.appendChild(option);
                });
            }
        });

        // é¢„æµ‹æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.getElementById('predictBtn').addEventListener('click', function() {
            const form = document.getElementById('predictionForm');
            
            // éªŒè¯è¡¨å•
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            document.getElementById('loadingState').style.display = 'block';
            document.getElementById('predictionResult').style.display = 'none';
            
            // æ¨¡æ‹Ÿé¢„æµ‹è¿‡ç¨‹
            setTimeout(() => {
                // éšè—åŠ è½½çŠ¶æ€
                document.getElementById('loadingState').style.display = 'none';
                
                // ç”Ÿæˆæ¨¡æ‹Ÿé¢„æµ‹ç»“æœ
                const basePrice = Math.random() * 200000 + 50000; // 5ä¸‡åˆ°25ä¸‡ä¹‹é—´
                const predictedPrice = Math.round(basePrice);
                const confidence = Math.round(Math.random() * 20 + 80); // 80-100%
                const priceMin = Math.round(predictedPrice * 0.9);
                const priceMax = Math.round(predictedPrice * 1.1);
                
                // æ›´æ–°é¢„æµ‹ç»“æœ
                document.getElementById('predictedPrice').textContent = `Â¥ ${predictedPrice.toLocaleString()}`;
                document.getElementById('confidence').textContent = `${confidence}%`;
                document.getElementById('priceRange').textContent = `Â¥ ${priceMin.toLocaleString()} - Â¥ ${priceMax.toLocaleString()}`;
                
                // æ˜¾ç¤ºé¢„æµ‹ç»“æœ
                document.getElementById('predictionResult').style.display = 'block';
                document.getElementById('predictionResult').scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        });
    </script>
</body>
</html>